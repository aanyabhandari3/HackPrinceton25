<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Center Impact Analyzer</title>
    
    <!-- Mapbox GL JS -->
    <script src="https://api.mapbox.com/mapbox-gl-js/v3.7.0/mapbox-gl.js"></script>
    <link href="https://api.mapbox.com/mapbox-gl-js/v3.7.0/mapbox-gl.css" rel="stylesheet" />
    
    <!-- Custom Styles -->
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Map Container -->
    <div id="map"></div>
    
    <!-- Sidebar Configuration Panel -->
    <div class="sidebar">
        <h1>ğŸŒ Data Center Impact Analyzer</h1>
        <p class="subtitle">Configure and analyze environmental impact</p>

        <!-- Data Center Size Presets -->
        <div class="section">
            <div class="section-title">Select Size Preset</div>
            <div class="preset-grid">
                <button class="preset-btn active" data-size="small">
                    <span class="name">Small</span>
                    <span class="power">1 MW â€¢ 100 servers</span>
                </button>
                <button class="preset-btn" data-size="medium">
                    <span class="name">Medium</span>
                    <span class="power">10 MW â€¢ 1,000 servers</span>
                </button>
                <button class="preset-btn" data-size="large">
                    <span class="name">Large</span>
                    <span class="power">50 MW â€¢ 10,000 servers</span>
                </button>
                <button class="preset-btn" data-size="mega">
                    <span class="name">Mega</span>
                    <span class="power">150 MW â€¢ 50,000 servers</span>
                </button>
            </div>

            <button class="toggle-custom" onclick="toggleCustom()">
                âš™ï¸ Custom Configuration
            </button>

            <!-- Custom Configuration Form -->
            <div id="custom-config" class="custom-config">
                <div class="form-group">
                    <label>âš¡ Power (MW)</label>
                    <input type="number" id="power_mw" value="1" min="0.1" step="0.1">
                </div>
                <div class="form-group">
                    <label>ğŸ–¥ï¸ Number of Servers</label>
                    <input type="number" id="servers" value="100" min="1">
                </div>
                <div class="form-group">
                    <label>ğŸ“ Size (sq ft)</label>
                    <input type="number" id="square_feet" value="5000" min="100">
                </div>
                <div class="form-group">
                    <label>ğŸ’§ Water Usage (gal/day)</label>
                    <input type="number" id="water" value="25000" min="0">
                </div>
                <div class="form-group">
                    <label>ğŸ‘¥ Employees</label>
                    <input type="number" id="employees" value="10" min="1">
                </div>
            </div>
        </div>

        <!-- Current Specs Summary -->
        <div id="specs-summary" class="specs-summary">
            <div class="section-title">Current Configuration</div>
            <div class="spec-row">
                <span>Power:</span>
                <strong><span id="spec-power">1</span> MW</strong>
            </div>
            <div class="spec-row">
                <span>Servers:</span>
                <strong><span id="spec-servers">100</span></strong>
            </div>
            <div class="spec-row">
                <span>Size:</span>
                <strong><span id="spec-size">5,000</span> sq ft</strong>
            </div>
            <div class="spec-row">
                <span>Water:</span>
                <strong><span id="spec-water">25</span>k gal/day</strong>
            </div>
        </div>

        <!-- Location Info -->
        <div id="location-display" style="display: none;" class="location-info">
            <strong>ğŸ“ Selected Location</strong><br>
            Lat: <span id="lat">-</span>, Lng: <span id="lng">-</span>
        </div>

        <!-- Action Buttons -->
        <button id="analyze-btn" class="analyze-btn" disabled onclick="analyzeImpact()">
            Analyze Impact
        </button>
        <button class="reset-btn" onclick="resetMap()">
            ğŸ”„ Reset
        </button>
    </div>

    <!-- Instructions Panel -->
    <div class="instructions">
        ğŸ’¡ Click on the map to place a data center
    </div>

    <!-- Application Scripts -->
    <script type="module" src="js/app.js"></script>
</body>
</html>
